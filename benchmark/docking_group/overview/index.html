
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Docking Benchmark Group - TDC</title>
    <link rel="stylesheet" href="/assets/css/app.css">
    <link rel="shortcut icon" type="image/png"
           href="/favicon.png" 
    />
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Docking Benchmark Group | TDC</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Docking Benchmark Group" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Machine Learning Datasets for Therapeutics" />
<meta property="og:description" content="Machine Learning Datasets for Therapeutics" />
<link rel="canonical" href="http://localhost:4000/benchmark/docking_group/overview/" />
<meta property="og:url" content="http://localhost:4000/benchmark/docking_group/overview/" />
<meta property="og:site_name" content="TDC" />
<script type="application/ld+json">
{"url":"http://localhost:4000/benchmark/docking_group/overview/","headline":"Docking Benchmark Group","description":"Machine Learning Datasets for Therapeutics","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-183522810-1"></script>
<script>
  window['ga-disable-UA-183522810-1'] = window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1";
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-183522810-1');
</script><!-- head scripts --></head>

  <body>
    
<nav class="navbar is-primary" >
    <div class="container">
        <div class="navbar-brand">
            <a class="navbar-brand" href="/">
            <span><img src="/logonav.png" alt="Logo" style="height: auto; width: auto; max-height: 45px; max-width: 250px;"></span>
            </a>
            <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>
        <div class="navbar-menu" id="navMenu">
            <div class="navbar-end">
                
                
                    
                    <a href="/" class="navbar-item ">Home</a>
                    
                
                    
                    <a href="/start/" class="navbar-item ">Quick Start</a>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a href="/overview/" class="navbar-link ">Datasets</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/overview/" class="navbar-item ">Overview</a>
                            
                            <a href="/single_pred_tasks/overview" class="navbar-item ">Single-instance Prediction</a>
                            
                            <a href="/multi_pred_tasks/overview" class="navbar-item ">Multi-instance Prediction</a>
                            
                            <a href="/generation_tasks/overview" class="navbar-item ">Generation</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a href="/fct_overview/" class="navbar-link ">Data Functions</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/fct_overview/" class="navbar-item ">Overview</a>
                            
                            <a href="/functions/data_evaluation/" class="navbar-item ">Model Evaluation</a>
                            
                            <a href="/functions/data_process/" class="navbar-item ">Data Processing</a>
                            
                            <a href="/functions/data_split/" class="navbar-item ">Data Split</a>
                            
                            <a href="/functions/oracles/" class="navbar-item ">Molecule Generation Oracles</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <div class="navbar-item has-dropdown is-hoverable">
                        <a href="/benchmark/overview/" class="navbar-link ">Leaderboards</a>
                        <div class="navbar-dropdown">
                            
                            <a href="/benchmark/overview/" class="navbar-item ">Guidelines</a>
                            
                            <a href="/benchmark/admet_group/overview" class="navbar-item ">ADMET Group</a>
                            
                            <a href="/benchmark/drugcombo_group/overview" class="navbar-item ">DrugCombo Group</a>
                            
                        </div>
                    </div>
                    
                
                    
                    <a href="/news/" class="navbar-item ">News</a>
                    
                
                    
                    <a href="/team/" class="navbar-item ">Team</a>
                    
                
                <a href="https://arxiv.org/abs/2102.09548" class="navbar-item">Paper</a>
                <a href="https://github.com/mims-harvard/TDC" class="navbar-item">GitHub</a>
                
            </div>

        </div>
    </div>
</nav>

    
    


    <section class="section">
        <div class="container">
            <div class="columns">
                
                <div class="column is-4-desktop is-4-tablet">
                    

<aside class="menu">

    <p class="menu-label"></p>
    <ul class="menu-list">
        
        <li>
            <a href="/benchmark/docking_group/overview" class=""><strong>Docking Group Leaderboard</strong></a>
            
            <ul>
                
                
                <li><a href="/benchmark/docking_group/drd3/" class=""><code>TDC.DRD3</code> Leaderboard</a></li>
                
                
            </ul>
            
        </li>
            
    </ul>

    <p class="menu-label"></p>
    <ul class="menu-list">
        
        <li>
            <a href="" class=""><strong>References</strong></a>
            
            <ul>
                
                
                <li><a href="/benchmark/overview/#step-by-step-instructions" class="">Submission Instructions</a></li>
                
                
                
                <li><a href="/benchmark/overview/#further-details-about-benchmark-groups-in-tdc" class="">BenchmarkGroup Class Documentation</a></li>
                
                
                
                <li><a href="/benchmark/overview/" class="">Leaderboard Guidelines</a></li>
                
                
            </ul>
            
        </li>
            
    </ul>

</aside>
                </div>
                
                <div class="column is-8">
                    
                    
                    
                    
<div class="content">
    <h2 id="docking-molecule-generation-benchmark-group">Docking Molecule Generation Benchmark Group</h2>

<p class="is-size-5"> Molecule generation seeks to generate novel molecule structure with required properties. While current focus have been on simple heuristic oracles, such as QED, LogP, they do not reflect the complexity of realistic problems. Problems include: (1) many properties such as activity towards a target are expensive to query while current methods require large amounts of calls to the oracle; (2) the ML generated molecules suffer from issues such as synthesizability, selectivity and so on. </p>

<p class="is-size-5"> To tackle these problems, we construct the docking benchmark group. Docking is a theoretical evaluation of affinity between a small molecule and a target (a protein involved in a disease pathway). Given a pre-specified target, an ML model is asked to generate molecules that have high affinity. This benchmark directly tackle the above two problems: (1) since docking score is expensive to calculate and is more meaningful, we can use it to simulate the real-world wet-lab experiment under resource constraint. To achieve this, instead of allowing unlimited oracle calls, we <i>restrict the number of oracle calls</i> in this benchmark and requires models to adapt quickly; (2) in addition to the typical average oracle scores on the top molecules, we provide <i>additional evaluations</i> to probe the realistic utilities of the generation. </p>

<p class="is-size-5">The importance and detailed info about docking generation can be found in these two recent articles: [<a href="https://arxiv.org/abs/2006.16955">Cieplinski et al. 2020</a>, <a href="https://chemrxiv.org/articles/preprint/Using_a_Genetic_Algorithm_to_Find_Molecules_with_Good_Docking_Scores/13525589/2#:~:text=A%20graph%2Dbased%20genetic%20algorithm,2%2Dadrenergic%20G%20protein%2Dcoupled">Steinmann and Jensen, 2021</a>].</p>

<p class="is-size-5"> To retrieve the individual target benchmark names, type: </p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">tdc</span> <span class="kn">import</span> <span class="n">utils</span>
<span class="n">names</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">retrieve_benchmark_names</span><span class="p">(</span><span class="s">'Docking_Group'</span><span class="p">)</span>
<span class="c1"># ['DRD3', 'XXX', ...]
</span></code></pre></div></div>

<p class="is-size-5">To access each benchmark, use the following code:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">tdc</span> <span class="kn">import</span> <span class="n">BenchmarkGroup</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">BenchmarkGroup</span><span class="p">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">'Docking_Group'</span><span class="p">,</span> 
                <span class="n">path</span> <span class="o">=</span> <span class="s">'data/'</span><span class="p">,</span> 
                <span class="n">file_format</span><span class="o">=</span><span class="s">'oracle'</span><span class="p">,</span> 
                <span class="n">pyscreener_path</span> <span class="o">=</span> <span class="s">'PATH_TO_PyScreener'</span><span class="p">)</span>

<span class="n">benchmark</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s">'DRD3'</span><span class="p">,</span> <span class="n">num_max_call</span> <span class="o">=</span> <span class="mi">5000</span><span class="p">)</span> 
<span class="c1"># specify the number of maximum calls your model plans to use 
</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">oracle_fct</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="n">benchmark</span><span class="p">[</span><span class="s">'oracle'</span><span class="p">],</span> <span class="n">benchmark</span><span class="p">[</span><span class="s">'data'</span><span class="p">],</span> <span class="n">benchmark</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> 

<span class="c1"># --------------------------------------------- # 
#  Train your model using oracle_fct and data   #
#    Save SMILES generation in pred_smiles      #
# --------------------------------------------- #
</span>
<span class="n">predictions</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">pred_smiles</span> 
<span class="s">'''
pred_smiles format is a dictionary of the top 100 generated SMILES: 
{5000: {
  'C=C=C=C(C#CON(N=O)C(=NO)C(O)=NC#CC)C(N=CC)(ON=NO)C(=CNN=NNCC)OO': -6.0,
  'CNN=CC(CC(O)(CCN(O)O)NC(=N)C(C)=COO)OC(=O)N=NON=C(O)CC=CNO': -7.2,
  ...
  '(O)OC#CNOC(N)C(=O)NOC(CN)C1=C=C=C=C1': -9.8
 },
 ### if you also evaluate on 1000/500/100 maximum calls
 1000: {
  .....
 }
}

Note: if no docking score is generated by the model for the final 100 SMILES, you can also input a list of 100 generated SMILES and TDC will call the docking scores in the evaluate function.
'''</span>

<span class="n">out</span> <span class="o">=</span> <span class="n">group</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">predictions</span><span class="p">,</span> <span class="n">m1_api</span> <span class="o">=</span> <span class="s">'XXXXX'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">out</span><span class="p">)</span>


<span class="s">'''
#
{'DRD3': {'top100': -10.2,
          'top10': -11.3,
          'top1': -12.3,
          'diversity': 0.6,
          'novelty': 0.7,
          '</span><span class="si">%</span><span class="s">pass': 0.7,
          'top1_</span><span class="si">%</span><span class="s">pass': -11.2,
          'm1': 2.5,
          'docking_scores_dict': {'XXX': -10.5, ....}
}

Note that if you put save_dict = True in evaluate function, it would return more detailed evaluation outcomes, namely the list of smiles pass the filter, a dictionary of smiles with m1 scores.
'''</span>
</code></pre></div></div>

<p class="is-size-5"> <b>Evaluation metrics</b> To realistically evaluate the quality of the generated molecules, we report the following metrics (mean and standard deviation of at least 3 random runs): </p>

<ul class="is-large is-size-5">
  <li><code>top100</code>: the average of top 100 generated molecules docking scores for the target.</li>
  <li><code>top10</code>: the average of top 10 generated molecules docking scores for the target.</li>
  <li><code>top1</code>: the docking score of the best generated molecule.</li>
  <li><code>diversity</code>: the average pairwise Tanimoto distance between the Morgan fingerprints of the top 100 molecules.</li>
  <li><code>novelty</code>: the fraction of the generated molecules that are not present in the training set.</li>
  <li><code>m1</code>: the synthesizability score of the molecules from molecule.one retrosynthesis model. </li>
  <li><code>%pass</code>: the fraction of molecules that passed XXX molecule filters. These filters exclude not drug-like molecules. </li>
  <li><code>top1_%pass</code>: the top 1 docking score for the molecules that pass filters.</li>
</ul>

<p class="is-size-5">Note that all evaluations are automatically computed using <code>group.evaluate(predictions)</code> except the <code>m1</code>. To include this, simply specify the <code>m1_api</code> token in the evaluation function. Note that this is a non-commercial service kindly provided by our partner <a href="http://molecule.one/">molecule.one</a>. Please conform to the terms if you plan to submit the m1 scores. You can also select to opt-out and submit your results without this evaluation metric, by simply not specifying the <code>m1_api</code> token. Checkout this <a href="/functions/oracles/#moleculeone"> page </a> to get the token and terms/conditions. </p>

<p class="is-size-5"> <b>Maximum oracle calls</b> To simulate different levels of realistic constraints, we provide a set of benchmarks for various maximum number of oracle calls. The smaller the number, the higher constraint and higher requirement for the model to adapt. You can change the maximum oracle call in the <code>group.get('DRD3', num_max_call = 5000)</code> function. The leaderboard supports 100, 500, 1000, 5000 four levels.</p>

<p class="is-size-5"> <b>Installation</b> This benchmark requires the use of TDC oracle class. For docking score, it requires PyScreener. You can find the detailed installation steps <a href="/functions/oracles/#docking-scores">here</a>. </p>

<p class="is-size-5"> Follow the <b><a href="/benchmark/overview/">instruction</a></b> on how to use the <code>BenchmarkGroup</code> class and submission instructions. </p>

<div class="column is-12">
    <hr />
</div>

<h3 id="leaderboard-data-summary">Leaderboard Data Summary</h3>

<table class="table is-striped is-hoverable">
  <thead>
  <tr>
    <th>Target</th>
    <th>Related Diseases</th>
    <th>Link</th>
  </tr>
  </thead>
  <tr>
    <td><code>TDC.DRD3</code></td>
    <td>Tremor, Schizophrenia</td>
    <td><a href="https://www.uniprot.org/uniprot/P35462">Uniprot Page</a></td>
  </tr>
</table>

<div class="column is-12">
    <hr />
</div>

</div>
                </div>
                
            </div>
        </div>
    </section>
    
        <footer class="footer">
    <div class="container">
        
        <div class="columns is-mobile">
            <div class="column is-8 has-text-left is-vcentered">
                <a class="navbar-brand" href="/">
                    <span><img src="/tdc_horizontal.png" alt="Logo" style="max-height: 40px; max-width: 250px;"></span>
                </a>
            </div>
            <div class="column is-4 has-text-right is-vcentered">
                <a href="https://arxiv.org/abs/2102.09548">
                    <span class="icon is-large">
                      <i class="fas fa-file-alt fa-3x"></i>
                    </span>
                </a>

                <a href="https://github.com/mims-harvard/TDC">
                    <span class="icon is-large">
                      <i class="fas fab fa-github fa-3x"></i>
                    </span>
                </a>
            </div>
        </div>
        
    </div>
</footer>
    
    <script src="/assets/js/app.js" type="text/javascript"></script><!-- footer scripts --></body>
</html>

